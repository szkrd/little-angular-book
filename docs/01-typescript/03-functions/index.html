<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>little angular book</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../../normalize.css" />
    <link rel="stylesheet" href="../../hljs-theme.css" />
    <link rel="stylesheet" href="../../markdown.css" />
    <link rel="stylesheet" href="../../main.css?v=2.0.0" />
  </head>
  <body>
    <div class="menu">
      
      <div class="menu-item depth-1 ">
         
        <a href="../../index.html">Little angular book</a>
        
      </div>
      
      <div class="menu-item depth-2 ">
        ▸
        <a href="../../00-setup/index.html">Setup</a>
        
      </div>
      
      <div class="menu-item depth-2 ">
        ▸
        <a href="../../01-typescript/index.html">TypeScript</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../01-typescript/01-basic-types/index.html">Basic types</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../01-typescript/02-classes-interfaces/index.html">Classes and interfaces</a>
        
      </div>
      
      <div class="menu-item depth-3 selected">
        ▹
        <a href="../../01-typescript/03-functions/index.html">Functions</a>
        
        <div class="menu-section depth-4">
          ◦
          <a href="#1">
            Alternate signatures (overloading)
          </a>
        </div>
        
        <div class="menu-section depth-4">
          ◦
          <a href="#2">
            Defining context (explicit this)
          </a>
        </div>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../01-typescript/04-enums/index.html">Enums</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../01-typescript/05-advanced-types/index.html">Advanced types</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../01-typescript/06-decorators/index.html">Decorators</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../01-typescript/06-utility-types/index.html">Utility types</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../01-typescript/07-generics/index.html">Generics</a>
        
      </div>
      
      <div class="menu-item depth-2 ">
        ▸
        <a href="../../02-components/index.html">Components</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../02-components/01-lifecycle-events/index.html">Lifecycle events</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../02-components/02-input-output/index.html">Input / Output</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../02-components/03-templates/index.html">Templates</a>
        
      </div>
      
      <div class="menu-item depth-4 ">
        ▪
        <a href="../../02-components/03-templates/01-raw-html/index.html">Raw HTML</a>
        
      </div>
      
      <div class="menu-item depth-4 ">
        ▪
        <a href="../../02-components/03-templates/02-data-flow/index.html">Data flow</a>
        
      </div>
      
      <div class="menu-item depth-4 ">
        ▪
        <a href="../../02-components/03-templates/03-class-style/index.html">Class &amp; style helpers</a>
        
      </div>
      
      <div class="menu-item depth-4 ">
        ▪
        <a href="../../02-components/03-templates/04-structural-directives/index.html">Structural directives</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../02-components/04-styles/index.html">Styles</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../02-components/05-standalone-components/index.html">Standalone components</a>
        
      </div>
      
      <div class="menu-item depth-2 ">
        ▸
        <a href="../../03-routing/index.html">Routing</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../03-routing/01-parameters/index.html">Route parameters</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../03-routing/02-query-parameters/index.html">Query parameters</a>
        
      </div>
      
      <div class="menu-item depth-2 ">
        ▸
        <a href="../../04-dependency-injection/index.html">Dependency injection</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../04-dependency-injection/01-circumventing-di/index.html">Circumventing the DI system</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../04-dependency-injection/02-sharing-services/index.html">Sharing services</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../04-dependency-injection/03-providers/index.html">Providers</a>
        
      </div>
      
      <div class="menu-item depth-4 ">
        ▪
        <a href="../../04-dependency-injection/03-providers/01-class-provider/index.html">Class provider</a>
        
      </div>
      
      <div class="menu-item depth-4 ">
        ▪
        <a href="../../04-dependency-injection/03-providers/02-factory-provider/index.html">Factory provider</a>
        
      </div>
      
      <div class="menu-item depth-4 ">
        ▪
        <a href="../../04-dependency-injection/03-providers/03-value-provider/index.html">Value provider</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../04-dependency-injection/04-di-tricks/index.html">DI tricks</a>
        
      </div>
      
      <div class="menu-item depth-2 ">
        ▸
        <a href="../../05-services/index.html">Services</a>
        
      </div>
      
      <div class="menu-item depth-2 ">
        ▸
        <a href="../../06-testing/index.html">Testing</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../06-testing/01-jasmine/index.html">Jasmine </a>
        
      </div>
      
      <div class="menu-item depth-2 ">
        ▸
        <a href="../../07-observables/index.html">Observables</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        ▹
        <a href="../../07-observables/01-examples/index.html">Examples</a>
        
      </div>
      
      <div class="menu-item depth-2 ">
        ▸
        <a href="../../08-problems/index.html">Problems</a>
        
      </div>
      
    </div>
    <div class="markdown-body"><h1 id="functions">Functions</h1>
<p>The simplest example: <code>let inc = (x: number, y: number = 1): number =&gt; x + y;</code></p>
<p>It&#39;s fairly simple to define array parameters:</p>
<pre class="hljs"><code class="language-typescript"><span class="hljs-keyword">let</span> baptize = (familyName: <span class="hljs-built_in">string</span>, ...names: <span class="hljs-built_in">string</span>[]): <span class="hljs-function"><span class="hljs-params">string</span> =&gt;</span> [familyName, ...names].join(<span class="hljs-string">&#x27; &#x27;</span>);
<span class="hljs-comment">//            ↑                                           ↑        ↑</span>
<span class="hljs-comment">//           input                                     output     implementation</span>
</code></pre>
<h2><a name="1">Alternate signatures (overloading)</a></h2>
<p>Treat this as a <strong>lightweight</strong> overloading: you can&#39;t define multiple functions with the same name, but you can define multiple interfaces for one function.</p>
<p>Then of course it&#39;s up to you to see if the input quacks or barks. In a &quot;real&quot; typed language this would not be needed, but typescript is just sugar on top of javascript (albeit sweet and helpful sugar).</p>
<pre class="hljs"><code class="language-typescript"><span class="hljs-comment">// overload signatures</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getHeight</span>(<span class="hljs-params">element: HTMLElement</span>): <span class="hljs-title">number</span></span>; <span class="hljs-comment">// signature A</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getHeight</span>(<span class="hljs-params">element: <span class="hljs-built_in">string</span></span>): <span class="hljs-title">number</span></span>; <span class="hljs-comment">// signature B</span>

<span class="hljs-comment">// implementation signature</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getHeight</span>(<span class="hljs-params">element: <span class="hljs-built_in">any</span></span>): <span class="hljs-title">number</span> </span>{
  <span class="hljs-comment">// this is not part of the &quot;valid&quot; overload list</span>
  <span class="hljs-keyword">let</span> node: HTMLElement | <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> element === <span class="hljs-string">&#x27;string&#x27;</span>) {
    <span class="hljs-comment">// we still have to poke the duck</span>
    node = <span class="hljs-built_in">document</span>.querySelector(element);
  } <span class="hljs-keyword">else</span> {
    node = element;
  }
  <span class="hljs-keyword">return</span> node ? node.getBoundingClientRect().height : <span class="hljs-number">-1</span>;
}
</code></pre>
<p>to use the above function:</p>
<ul>
<li><code>getHeight(&#39;body&#39;);</code> → calls signature A</li>
<li><code>getHeight(document.getElementsByTagName(&#39;body&#39;)[0]);</code> → calls signature B</li>
<li><code>getHeight(42);</code> → this will <strong>not</strong> work on typescript&#39;s level ⛔ (but will work of course in the compiled js)</li>
</ul>
<p>💡 For relatively simple functions it&#39;s easier to define multiple parameter types: <code>getHeight (element: string | HTMLElement)</code>.</p>
<p>‼️ Notice how the function &quot;technically&quot; accepts any type - both signatures are just type helpers and will be stripped away.</p>
<h2><a name="2">Defining context (explicit this)</a></h2>
<p>One may enforce an expected calling context for a function:</p>
<pre class="hljs"><code class="language-typescript"><span class="hljs-keyword">interface</span> User {
  age: <span class="hljs-built_in">number</span>;
  department: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">interface</span> Users {
  [name: <span class="hljs-built_in">string</span>]: User;
}

<span class="hljs-keyword">let</span> users: Users = {
  john: { age: <span class="hljs-number">30</span>, department: <span class="hljs-string">&#x27;management&#x27;</span> },
  jack: { age: <span class="hljs-number">26</span>, department: <span class="hljs-string">&#x27;backend development&#x27;</span> },
  jill: { age: <span class="hljs-number">34</span>, department: <span class="hljs-string">&#x27;human resources&#x27;</span> },
};

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUser</span>(<span class="hljs-params"><span class="hljs-built_in">this</span>: Users, name: <span class="hljs-built_in">string</span> = &#x27;jill&#x27;</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>[name];
}
</code></pre>
<ul>
<li>use call or apply: <code>getUser.call(users, &#39;jack&#39;);</code></li>
<li>it would <strong>not</strong> work without the scoping: <code>getUser(&#39;jill&#39;);</code> ⛔</li>
</ul>
</div>
    <script src="../../main.js?v=2.0.0"></script>
  </body>
</html>
