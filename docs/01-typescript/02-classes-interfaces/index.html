<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>little angular book</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../../normalize.css">
    <link rel="stylesheet" href="../../hljs-theme.css">
    <link rel="stylesheet" href="../../markdown.css">
    <link rel="stylesheet" href="../../main.css?v=2.0.0">
</head>
<body>
<a id="menu-toggle" class="menu-toggle" href="#" title="toggle menu">
    <span></span><span></span><span></span>
</a>
<div class="menu">
    
        <div class="menu-item depth-1 ">
             
            <a href="../../index.html">Little angular book</a>
            
        </div>
    
        <div class="menu-item depth-2 ">
            â–¸
            <a href="../../01-typescript/index.html">TypeScript</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../01-typescript/01-basic-types/index.html">Basic types</a>
            
        </div>
    
        <div class="menu-item depth-3 selected">
            â–¹
            <a href="../../01-typescript/02-classes-interfaces/index.html">Classes and interfaces</a>
            
                <div class="menu-section depth-4">
                    â—¦
                    <a href="#1">
                        Class
                    </a>
                </div>
            
                <div class="menu-section depth-4">
                    â—¦
                    <a href="#2">
                        Inheritance
                    </a>
                </div>
            
                <div class="menu-section depth-4">
                    â—¦
                    <a href="#3">
                        Abstract class
                    </a>
                </div>
            
                <div class="menu-section depth-4">
                    â—¦
                    <a href="#4">
                        Mixins
                    </a>
                </div>
            
                <div class="menu-section depth-4">
                    â—¦
                    <a href="#5">
                        Interfaces
                    </a>
                </div>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../01-typescript/03-functions/index.html">Functions</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../01-typescript/04-enums/index.html">Enums</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../01-typescript/05-advanced-types/index.html">Advanced types</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../01-typescript/06-decorators/index.html">Decorators</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../01-typescript/07-generics/index.html">Generics</a>
            
        </div>
    
        <div class="menu-item depth-2 ">
            â–¸
            <a href="../../02-components/index.html">Components</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../02-components/01-lifecycle-events/index.html">Lifecycle events</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../02-components/02-input-output/index.html">Input / Output</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../02-components/03-templates/index.html">Templates</a>
            
        </div>
    
        <div class="menu-item depth-4 ">
            â–ª
            <a href="../../02-components/03-templates/01-raw-html/index.html">Raw HTML</a>
            
        </div>
    
        <div class="menu-item depth-4 ">
            â–ª
            <a href="../../02-components/03-templates/02-data-flow/index.html">Data flow</a>
            
        </div>
    
        <div class="menu-item depth-4 ">
            â–ª
            <a href="../../02-components/03-templates/03-class-style/index.html">Class &amp; style helpers</a>
            
        </div>
    
        <div class="menu-item depth-4 ">
            â–ª
            <a href="../../02-components/03-templates/04-structural-directives/index.html">Structural directives</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../02-components/04-styles/index.html">Styles</a>
            
        </div>
    
        <div class="menu-item depth-2 ">
            â–¸
            <a href="../../03-routing/index.html">Routing</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../03-routing/01-parameters/index.html">Route parameters</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../03-routing/02-query-parameters/index.html">Query parameters</a>
            
        </div>
    
        <div class="menu-item depth-2 ">
            â–¸
            <a href="../../04-dependency-injection/index.html">Dependency injection</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../04-dependency-injection/01-circumventing-di/index.html">Circumventing the DI system</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../04-dependency-injection/02-sharing-services/index.html">Sharing services</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../04-dependency-injection/03-providers/index.html">Providers</a>
            
        </div>
    
        <div class="menu-item depth-4 ">
            â–ª
            <a href="../../04-dependency-injection/03-providers/01-class-provider/index.html">Class provider</a>
            
        </div>
    
        <div class="menu-item depth-4 ">
            â–ª
            <a href="../../04-dependency-injection/03-providers/02-factory-provider/index.html">Factory provider</a>
            
        </div>
    
        <div class="menu-item depth-4 ">
            â–ª
            <a href="../../04-dependency-injection/03-providers/03-value-provider/index.html">Value provider</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../04-dependency-injection/04-di-tricks/index.html">DI tricks</a>
            
        </div>
    
        <div class="menu-item depth-2 ">
            â–¸
            <a href="../../05-services/index.html">Services</a>
            
        </div>
    
        <div class="menu-item depth-2 ">
            â–¸
            <a href="../../06-testing/index.html">Testing</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../06-testing/01-jasmine/index.html">Jasmine </a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../06-testing/02-snippets/index.html">Snippets</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../06-testing/03-templates/index.html">Templates</a>
            
        </div>
    
        <div class="menu-item depth-2 ">
            â–¸
            <a href="../../07-observables/index.html">Observables</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            â–¹
            <a href="../../07-observables/01-examples/index.html">Examples</a>
            
        </div>
    
        <div class="menu-item depth-2 ">
            â–¸
            <a href="../../08-problems/index.html">Problems</a>
            
        </div>
    
</div>
<div class="markdown-body"><h1>Classes and interfaces</h1>
<p>ðŸ’¡ TypeScript, unlike Java, understands types as <strong>shapes</strong>.</p>
<p>If a class quacks and walks like a duck and an interface quacks and walks like a duck then they are interchangeable from TypeScript&#39;s point of view (at least as a definition).</p>
<h2><a name="1">Class</a></h2>
<pre class="hljs"><code class="hljs language-typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// plain public uninitialized</span>
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>; <span class="hljs-comment">// readonly, default value</span>

  <span class="hljs-title function_">constructor</span> (<span class="hljs-params"><span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }

  <span class="hljs-comment">// we got public (default), private, protected</span>
  <span class="hljs-keyword">protected</span> <span class="hljs-title function_">rename</span> (<span class="hljs-attr">newName</span>: <span class="hljs-built_in">string</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = newName;
  }
}
</code></pre><h2><a name="2">Inheritance</a></h2>
<pre class="hljs"><code class="hljs language-typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">_bites</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// unfortunately underscore IS needed</span>
  <span class="hljs-keyword">private</span> <span class="hljs-attr">isAngry</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">saySomething</span> (): <span class="hljs-built_in">void</span> { <span class="hljs-comment">// static method</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;something&#x27;</span>);
  }

  <span class="hljs-title function_">bark</span> (<span class="hljs-attr">words</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">&#x27;woof woof&#x27;</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> barks &quot;<span class="hljs-subst">${words}</span>&quot;`</span>);
  }

  get <span class="hljs-title function_">bites</span> (): <span class="hljs-built_in">boolean</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_bites</span>;
  }

  <span class="hljs-comment">// without this setter _bites would be a readonly</span>
  set <span class="hljs-title function_">bites</span> (<span class="hljs-attr">b</span>: <span class="hljs-built_in">boolean</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_bites</span> = b;
    <span class="hljs-keyword">if</span> (b) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isAngry</span> = <span class="hljs-literal">true</span>;
    }
  }
}
</code></pre><pre class="hljs"><code class="hljs language-typescript"><span class="hljs-keyword">let</span> fido = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&#x27;Fido&#x27;</span>);
</code></pre><h2><a name="3">Abstract class</a></h2>
<p>Abstracts can not be instanciated! They serve as a base template for other classes.</p>
<pre class="hljs"><code class="hljs language-typescript"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AlphaMale</span> {
  <span class="hljs-keyword">abstract</span> <span class="hljs-title function_">bite</span> (): <span class="hljs-built_in">void</span>;
}
</code></pre><h2><a name="4">Mixins</a></h2>
<p>Mixins can be emulated through <code>C implements A, B</code> (where A and B are classes), but the effective mixin logic must be implemented manually!</p>
<p>This means that one must copy (mix) the prototype methods from A and B to C using an <code>applyMixins</code> implementation.</p>
<h2><a name="5">Interfaces</a></h2>
<p>Interfaces are just interface definitions and as such they will be removed during the TS compilation process.</p>
<p>One can use interfaces to describe the shape of</p>
<ul>
<li>objects (their properties and their value types)</li>
<li>functions (input parameters, parameter order, output values)</li>
<li>iterables</li>
<li>classes</li>
</ul>
<h3>Object interface</h3>
<pre class="hljs"><code class="hljs language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Book</span> {
  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">subtitle</span>?: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// &lt;-- notice the question mark, this is an optional prop</span>
  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">author</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">read</span>?: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">score</span>?: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">let</span> <span class="hljs-attr">oldBook</span>: <span class="hljs-title class_">Book</span> = { <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;Candide&#x27;</span>, <span class="hljs-attr">subtitle</span>: <span class="hljs-string">&#x27;All for the best&#x27;</span>, <span class="hljs-attr">author</span>: <span class="hljs-string">&#x27;Voltaire&#x27;</span> };
<span class="hljs-keyword">let</span> <span class="hljs-attr">newBook</span>: <span class="hljs-title class_">Book</span> = { <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;Men Without Women&#x27;</span>, <span class="hljs-attr">author</span>: <span class="hljs-string">&#x27;Murakami Haruki&#x27;</span> };
oldBook.<span class="hljs-property">read</span> = <span class="hljs-literal">true</span>;
newBook.<span class="hljs-property">read</span> = <span class="hljs-literal">false</span>;
</code></pre><pre class="hljs"><code class="hljs language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">FuzzyDog</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">owner</span>?: <span class="hljs-built_in">string</span>;
  [<span class="hljs-attr">propName</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">any</span>; <span class="hljs-comment">// &lt;-- this can be anything (both the key and the value!)</span>
}

<span class="hljs-keyword">let</span> <span class="hljs-attr">janesDog</span>: <span class="hljs-title class_">FuzzyDog</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Fido&#x27;</span>, <span class="hljs-attr">owner</span>: <span class="hljs-string">&#x27;Jane&#x27;</span>, <span class="hljs-attr">favoriteFood</span>: <span class="hljs-string">&#x27;tripe ration&#x27;</span> };
<span class="hljs-keyword">let</span> <span class="hljs-attr">strayDog</span>: <span class="hljs-title class_">FuzzyDog</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Socks&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">marked</span>: <span class="hljs-literal">true</span> };
</code></pre><h3>Function interface</h3>
<pre class="hljs"><code class="hljs language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">FindFn</span> {
  (<span class="hljs-attr">needle</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">haystack</span>: <span class="hljs-built_in">string</span>[]): <span class="hljs-built_in">boolean</span>;
}

<span class="hljs-keyword">let</span> <span class="hljs-attr">searchForOwner</span>: <span class="hljs-title class_">FindFn</span> = <span class="hljs-function">(<span class="hljs-params">s, names</span>) =&gt;</span> names.<span class="hljs-title function_">includes</span>(s.<span class="hljs-title function_">toLowerCase</span>());
</code></pre><h3>Index interface</h3>
<pre class="hljs"><code class="hljs language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">VeryComplicatedReadonlyArray</span> {
  <span class="hljs-keyword">readonly</span> [<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>]: <span class="hljs-built_in">string</span>;
}
<span class="hljs-keyword">let</span> <span class="hljs-attr">boyNames</span>: <span class="hljs-title class_">VeryComplicatedReadonlyArray</span> = [ <span class="hljs-string">&#x27;Joe&#x27;</span>, <span class="hljs-string">&#x27;Jack&#x27;</span>, <span class="hljs-string">&#x27;John&#x27;</span> ];
<span class="hljs-keyword">let</span> <span class="hljs-attr">girlNames</span>: <span class="hljs-title class_">ReadonlyArray</span>&lt;<span class="hljs-built_in">string</span>&gt; = [ <span class="hljs-string">&#x27;Jane&#x27;</span>, <span class="hljs-string">&#x27;Jill&#x27;</span>, <span class="hljs-string">&#x27;Judy&#x27;</span> ];
</code></pre><h3>Class interface</h3>
<pre class="hljs"><code class="hljs language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Dog</span> {
  <span class="hljs-attr">type</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-title function_">bark</span> (<span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span>;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">GuardDog</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Dog</span> {
  <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;german shepherd&#x27;</span>;
  <span class="hljs-title function_">bark</span> (<span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; count; i++) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Woof!&#x27;</span>);
    }
  }
}
</code></pre><h3>Extending interface</h3>
<p>Multiple interfaces may be extended at once.</p>
<pre class="hljs"><code class="hljs language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Shape</span> {
  <span class="hljs-attr">color</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Circle</span> {
  <span class="hljs-attr">radius</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Disc</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Shape</span>, <span class="hljs-title class_">Circle</span> {
  <span class="hljs-attr">fillColor</span>: <span class="hljs-built_in">string</span>;
}
</code></pre><h3>Auto-merging interfaces</h3>
<p>TS can merge interfaces with the same name (unlike Classes):</p>
<pre class="hljs"><code class="hljs language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Box</span> {
    <span class="hljs-attr">height</span>: <span class="hljs-built_in">number</span>;
    <span class="hljs-attr">width</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Box</span> {
    <span class="hljs-attr">scale</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">box</span>: <span class="hljs-title class_">Box</span> = {<span class="hljs-attr">height</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">scale</span>: <span class="hljs-number">3</span>}
</code></pre></div>
<script src="../../main.js?v=2.0.0"></script>
</body>
</html>
