<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>little angular book</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../../normalize.css">
    <link rel="stylesheet" href="../../hljs-theme.css">
    <link rel="stylesheet" href="../../markdown.css">
    <link rel="stylesheet" href="../../main.css?v=2.0.0">
</head>
<body>
<a id="menu-toggle" class="menu-toggle" href="#" title="toggle menu">
    <span></span><span></span><span></span>
</a>
<div class="menu">
    
        <div class="menu-item depth-1 ">
             
            <a href="../../index.html">Little angular book</a>
            
        </div>
    
        <div class="menu-item depth-2 ">
            ▸
            <a href="../../01-typescript/index.html">TypeScript</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../01-typescript/01-basic-types/index.html">Basic types</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../01-typescript/02-classes-interfaces/index.html">Classes and interfaces</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../01-typescript/03-functions/index.html">Functions</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../01-typescript/04-enums/index.html">Enums</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../01-typescript/05-advanced-types/index.html">Advanced types</a>
            
        </div>
    
        <div class="menu-item depth-3 selected">
            ▹
            <a href="../../01-typescript/06-decorators/index.html">Decorators</a>
            
                <div class="menu-section depth-4">
                    ◦
                    <a href="#1">
                        Class decorators
                    </a>
                </div>
            
                <div class="menu-section depth-4">
                    ◦
                    <a href="#2">
                        Method and accessor decorators
                    </a>
                </div>
            
                <div class="menu-section depth-4">
                    ◦
                    <a href="#3">
                        Property and parameter decorators
                    </a>
                </div>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../01-typescript/07-generics/index.html">Generics</a>
            
        </div>
    
        <div class="menu-item depth-2 ">
            ▸
            <a href="../../02-components/index.html">Components</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../02-components/01-lifecycle-events/index.html">Lifecycle events</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../02-components/02-input-output/index.html">Input / Output</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../02-components/03-templates/index.html">Templates</a>
            
        </div>
    
        <div class="menu-item depth-4 ">
            ▪
            <a href="../../02-components/03-templates/01-raw-html/index.html">Raw HTML</a>
            
        </div>
    
        <div class="menu-item depth-4 ">
            ▪
            <a href="../../02-components/03-templates/02-data-flow/index.html">Data flow</a>
            
        </div>
    
        <div class="menu-item depth-4 ">
            ▪
            <a href="../../02-components/03-templates/03-class-style/index.html">Class &amp; style helpers</a>
            
        </div>
    
        <div class="menu-item depth-4 ">
            ▪
            <a href="../../02-components/03-templates/04-structural-directives/index.html">Structural directives</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../02-components/04-styles/index.html">Styles</a>
            
        </div>
    
        <div class="menu-item depth-2 ">
            ▸
            <a href="../../03-routing/index.html">Routing</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../03-routing/01-parameters/index.html">Route parameters</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../03-routing/02-query-parameters/index.html">Query parameters</a>
            
        </div>
    
        <div class="menu-item depth-2 ">
            ▸
            <a href="../../04-dependency-injection/index.html">Dependency injection</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../04-dependency-injection/01-circumventing-di/index.html">Circumventing the DI system</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../04-dependency-injection/02-sharing-services/index.html">Sharing services</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../04-dependency-injection/03-providers/index.html">Providers</a>
            
        </div>
    
        <div class="menu-item depth-4 ">
            ▪
            <a href="../../04-dependency-injection/03-providers/01-class-provider/index.html">Class provider</a>
            
        </div>
    
        <div class="menu-item depth-4 ">
            ▪
            <a href="../../04-dependency-injection/03-providers/02-factory-provider/index.html">Factory provider</a>
            
        </div>
    
        <div class="menu-item depth-4 ">
            ▪
            <a href="../../04-dependency-injection/03-providers/03-value-provider/index.html">Value provider</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../04-dependency-injection/04-di-tricks/index.html">DI tricks</a>
            
        </div>
    
        <div class="menu-item depth-2 ">
            ▸
            <a href="../../05-services/index.html">Services</a>
            
        </div>
    
        <div class="menu-item depth-2 ">
            ▸
            <a href="../../06-testing/index.html">Testing</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../06-testing/01-jasmine/index.html">Jasmine </a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../06-testing/02-snippets/index.html">Snippets</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../06-testing/03-templates/index.html">Templates</a>
            
        </div>
    
        <div class="menu-item depth-2 ">
            ▸
            <a href="../../07-observables/index.html">Observables</a>
            
        </div>
    
        <div class="menu-item depth-3 ">
            ▹
            <a href="../../07-observables/01-examples/index.html">Examples</a>
            
        </div>
    
        <div class="menu-item depth-2 ">
            ▸
            <a href="../../08-problems/index.html">Problems</a>
            
        </div>
    
</div>
<div class="markdown-body"><h1>Decorators</h1>
<ul>
<li>Decorators are functions when placed in a decorator context will be called with special contextual parameters.</li>
<li>If you want to create decorators that accept parameters during &quot;decoration&quot;, use a factory.</li>
</ul>
<h2><a name="1">Class decorators</a></h2>
<p>Called with the <strong>constructor</strong> function.</p>
<pre class="hljs"><code class="hljs language-typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sealed</span>(<span class="hljs-params"><span class="hljs-attr">ctor</span>: <span class="hljs-title class_">Function</span></span>) {
  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">seal</span>(ctor);
  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">seal</span>(ctor.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
}

<span class="hljs-meta">@sealed</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Greeter</span> {
  <span class="hljs-attr">greeting</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">// ...</span>
}
</code></pre><h2><a name="2">Method and accessor decorators</a></h2>
<p>Parameters:</p>
<ol>
<li>constructor (static member) or prototype (instance member)</li>
<li>name</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty">property descriptor</a></li>
</ol>
<p>Only one accessor (either the getter or the setter) may be decorated, since the very same decorator would operate on the same member.</p>
<pre class="hljs"><code class="hljs language-typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">friendly</span> (<span class="hljs-params"><span class="hljs-attr">target</span>: <span class="hljs-built_in">any</span>, <span class="hljs-attr">propertyKey</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">descriptor</span>: <span class="hljs-title class_">PropertyDescriptor</span></span>) {
  <span class="hljs-keyword">let</span> oldFn = descriptor.<span class="hljs-property">value</span>;
  descriptor.<span class="hljs-property">value</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) { <span class="hljs-keyword">return</span> oldFn.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>) + <span class="hljs-string">&#x27;, my friend&#x27;</span>; };
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">GreeterBot</span> {
  <span class="hljs-attr">greeting</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-title function_">constructor</span> (<span class="hljs-params"><span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">greeting</span> = message;
  }

  <span class="hljs-meta">@friendly</span>
  <span class="hljs-keyword">public</span> <span class="hljs-title function_">greet</span> () {
    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;Hello, &#x27;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">greeting</span>;
  }
}

<span class="hljs-keyword">let</span> rosey = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GreeterBot</span>(<span class="hljs-string">&#x27;Judy&#x27;</span>);
rosey.<span class="hljs-title function_">greet</span>(); <span class="hljs-comment">// prints &quot;Hello Judy, my friend&quot;</span>
</code></pre><h2><a name="3">Property and parameter decorators</a></h2>
<p>🚀 Since es6 class properties are not enumerable, manipulating their descriptors is not exactly trivial.
  The official examples themselves are relying heavily on the <code>reflect-metadata</code> package (future metadata API polyfill) for easier reflection.</p>
</div>
<script src="../../main.js?v=2.0.0"></script>
</body>
</html>
