<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>little angular book</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../../normalize.css" />
    <link rel="stylesheet" href="../../hljs-theme.css" />
    <link rel="stylesheet" href="../../markdown.css" />
    <link rel="stylesheet" href="../../main.css?v=2.0.0" />
  </head>
  <body>
    <div class="menu">
      
      <div class="menu-item depth-1 ">
         
        <a href="../../index.html">Little angular book</a>
        
      </div>
      
      <div class="menu-item depth-2 ">
        â–¸
        <a href="../../00-setup/index.html">Setup</a>
        
      </div>
      
      <div class="menu-item depth-2 ">
        â–¸
        <a href="../../01-typescript/index.html">TypeScript</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        â–¹
        <a href="../../01-typescript/01-basic-types/index.html">Basic types</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        â–¹
        <a href="../../01-typescript/02-classes-interfaces/index.html">Classes and interfaces</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        â–¹
        <a href="../../01-typescript/03-functions/index.html">Functions</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        â–¹
        <a href="../../01-typescript/04-enums/index.html">Enums</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        â–¹
        <a href="../../01-typescript/05-advanced-types/index.html">Advanced types</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        â–¹
        <a href="../../01-typescript/06-decorators/index.html">Decorators</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        â–¹
        <a href="../../01-typescript/07-generics/index.html">Generics</a>
        
      </div>
      
      <div class="menu-item depth-2 ">
        â–¸
        <a href="../../02-components/index.html">Components</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        â–¹
        <a href="../../02-components/01-lifecycle-events/index.html">Lifecycle events</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        â–¹
        <a href="../../02-components/02-input-output/index.html">Input / Output</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        â–¹
        <a href="../../02-components/03-templates/index.html">Templates</a>
        
      </div>
      
      <div class="menu-item depth-4 ">
        â–ª
        <a href="../../02-components/03-templates/01-raw-html/index.html">Raw HTML</a>
        
      </div>
      
      <div class="menu-item depth-4 ">
        â–ª
        <a href="../../02-components/03-templates/02-data-flow/index.html">Data flow</a>
        
      </div>
      
      <div class="menu-item depth-4 ">
        â–ª
        <a href="../../02-components/03-templates/03-class-style/index.html">Class &amp; style helpers</a>
        
      </div>
      
      <div class="menu-item depth-4 ">
        â–ª
        <a href="../../02-components/03-templates/04-structural-directives/index.html">Structural directives</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        â–¹
        <a href="../../02-components/04-styles/index.html">Styles</a>
        
      </div>
      
      <div class="menu-item depth-2 ">
        â–¸
        <a href="../../03-routing/index.html">Routing</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        â–¹
        <a href="../../03-routing/01-parameters/index.html">Route parameters</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        â–¹
        <a href="../../03-routing/02-query-parameters/index.html">Query parameters</a>
        
      </div>
      
      <div class="menu-item depth-2 ">
        â–¸
        <a href="../../04-dependency-injection/index.html">Dependency injection</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        â–¹
        <a href="../../04-dependency-injection/01-circumventing-di/index.html">Circumventing the DI system</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        â–¹
        <a href="../../04-dependency-injection/02-sharing-services/index.html">Sharing services</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        â–¹
        <a href="../../04-dependency-injection/03-providers/index.html">Providers</a>
        
      </div>
      
      <div class="menu-item depth-4 ">
        â–ª
        <a href="../../04-dependency-injection/03-providers/01-class-provider/index.html">Class provider</a>
        
      </div>
      
      <div class="menu-item depth-4 ">
        â–ª
        <a href="../../04-dependency-injection/03-providers/02-factory-provider/index.html">Factory provider</a>
        
      </div>
      
      <div class="menu-item depth-4 ">
        â–ª
        <a href="../../04-dependency-injection/03-providers/03-value-provider/index.html">Value provider</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        â–¹
        <a href="../../04-dependency-injection/04-di-tricks/index.html">DI tricks</a>
        
      </div>
      
      <div class="menu-item depth-2 ">
        â–¸
        <a href="../../05-services/index.html">Services</a>
        
      </div>
      
      <div class="menu-item depth-2 ">
        â–¸
        <a href="../../06-testing/index.html">Testing</a>
        
      </div>
      
      <div class="menu-item depth-3 selected">
        â–¹
        <a href="../../06-testing/01-jasmine/index.html">Jasmine </a>
        
        <div class="menu-section depth-4">
          â—¦
          <a href="#1">
            Expectation matchers
          </a>
        </div>
        
        <div class="menu-section depth-4">
          â—¦
          <a href="#2">
            Spies
          </a>
        </div>
        
      </div>
      
      <div class="menu-item depth-2 ">
        â–¸
        <a href="../../07-observables/index.html">Observables</a>
        
      </div>
      
      <div class="menu-item depth-3 ">
        â–¹
        <a href="../../07-observables/01-examples/index.html">Examples</a>
        
      </div>
      
      <div class="menu-item depth-2 ">
        â–¸
        <a href="../../08-problems/index.html">Problems</a>
        
      </div>
      
    </div>
    <div class="markdown-body"><h1 id="jasmine-white_flower">Jasmine ðŸ’®</h1>
<p>A10 comes with <a href="https://jasmine.github.io/api/3.5/global">v3.5</a>;
Jasmine is a fairly straightforward bdd framework, has a sane list of
matchers and fairly basic spy capabilities:</p>
<ul>
<li><code>describe</code> (desc, specDefs)</li>
<li><code>afterEach</code>, <code>afterAll</code> (fn <em>opt</em>, timeout <em>opt</em>)</li>
<li><code>beforeEach</code>, <code>beforeAll</code> (fn <em>opt</em>, timeout <em>opt</em>)</li>
<li><code>it</code> (desc, fn <em>opt</em>, timeout <em>opt</em>)</li>
<li><code>expect</code> (actual), <code>expectAsync</code> (actual)</li>
<li><strong>focusing</strong>: <code>fdescribe</code>, <code>fit</code></li>
<li><strong>skipping</strong>: <code>xdescribe</code>, <code>xit</code></li>
</ul>
<h2><a name="1">Expectation matchers</a></h2>
<p>Negation modifier is <code>.not.</code></p>
<ul>
<li>equality<ul>
<li><strong>toBe</strong>: <code>expect(thing).toBe(realThing);</code></li>
<li><strong>toEqual</strong>: deep equality <code>expect(bigObject).toEqual({&quot;foo&quot;: [&#39;bar&#39;, &#39;baz&#39;]});</code></li>
</ul>
</li>
<li>existence<ul>
<li><strong>toBeDefined</strong>: <code>expect(result).toBeDefined();</code></li>
<li><strong>toBeUndefined</strong>: <code>expect(result).toBeUndefined():</code></li>
<li><strong>toBeTruthy</strong>: <code>expect(result).toBeTruthy();</code></li>
<li><strong>toBeFalsy</strong>: <code>expect(result).toBeFalsy();</code></li>
</ul>
</li>
<li>boolean<ul>
<li><strong>toBeTrue</strong>: <code>expect(result).toBeTrue();</code></li>
<li><strong>toBeFalse</strong>: <code>expect(result).toBeFalse();</code></li>
</ul>
</li>
<li>numbers<ul>
<li><strong>toBeNaN</strong>: <code>expect(thing).toBeNaN();</code></li>
<li><strong>toBeCloseTo</strong>: <code>expect(number).toBeCloseTo(42.2, 3);</code></li>
<li><strong>toBeGreaterThan</strong>: <code>expect(number).toBeGreaterThan(3);</code></li>
<li><strong>toBeGreaterThanOrEqual</strong>: <code>expect(number).toBeGreaterThanOrEqual(25);</code></li>
<li><strong>toBeLessThan</strong>: <code>expect(number).toBeLessThan(0);</code></li>
<li><strong>toBeLessThanOrEqual</strong>: <code>expect(number).toBeLessThanOrEqual(123);</code></li>
<li><strong>toBeNegativeInfinity</strong>: <code>expect(number).toBeNegativeInfinity();</code></li>
<li><strong>toBePositiveInfinity</strong>: <code>expect(number).toBePositiveInfinity();</code></li>
</ul>
</li>
<li>string<ul>
<li><strong>toContain</strong>: <code>expect(string).toContain(substring);</code></li>
<li><strong>toMatch</strong>: <code>expect(&quot;my string&quot;).toMatch(/string$/);</code></li>
</ul>
</li>
<li>array<ul>
<li><strong>toContain</strong>: <code>expect(array).toContain(anElement);</code></li>
</ul>
</li>
<li>class/null<ul>
<li><strong>toBeNull</strong>: <code>expect(result).toBeNull();</code></li>
<li><strong>toBeInstanceOf</strong>: <code>expect(result).toBeInstanceOf(String);</code></li>
</ul>
</li>
<li>html<ul>
<li><strong>toHaveClass</strong>: <code>expect(htmlEl).toHaveClass(&#39;bar&#39;); //css</code></li>
</ul>
</li>
<li>throw<ul>
<li><strong>toThrow</strong>: <code>expect(() =&gt; { return &#39;x&#39;; }).toThrow();</code></li>
<li><strong>toThrowError</strong>: <code>expect(() =&gt; { return &#39;x&#39;; }).toThrowError();</code></li>
<li><strong>toThrowMatching</strong> <code>expect(() =&gt; { return &#39;x&#39;; }).toThrowMatching(predicateFn)</code></li>
</ul>
</li>
<li>async/promise (expectAsync)<ul>
<li><strong>toBeResolved</strong>: <code>expectAsync(aPromise).toBeResolved();</code></li>
<li><strong>toBeResolvedTo</strong>: <code>expectAsync(aPromise).toBeResolvedTo({prop: &#39;value&#39;});</code></li>
<li><strong>toBeRejected</strong>: <code>expectAsync(aPromise).toBeRejected();</code></li>
<li><strong>toBeRejectedWith</strong>: <code>expectAsync(aPromise).toBeRejectedWith({prop: &#39;value&#39;});</code></li>
<li><strong>toBeRejectedWithError</strong>: <code>expectAsync(aPromise).toBeRejectedWithError(MyError, /message/);</code></li>
</ul>
</li>
</ul>
<p>Future 3.6:</p>
<ul>
<li>toHaveSize (instead of array.length)</li>
<li>toHaveBeenCalledOnceWith (spy)</li>
<li>toBePending (async)</li>
</ul>
<h2><a name="2">Spies</a></h2>
<p>Spy naming (<code>aName</code>) is optional, like most other parameters (lots of ðŸ¦† typing).</p>
<ul>
<li>spying on existing objects<ol>
<li><strong>spyOn</strong>: spy on a method - <code>spyOn(obj, methodName)</code></li>
<li><strong>spyOnProperty</strong>: spy on a prop (with defineProperty) - <code>spyOnProperty(obj, propName, &#39;get&#39;/&#39;set&#39;)</code> </li>
<li><strong>spyOnAllFunctions</strong>: <code>spyOnAllFunctions(obj)</code></li>
</ol>
</li>
<li>spy creation from scratch<ol>
<li><strong>jasmine.createSpy</strong>: <code>jasmine.createSpy(aName, fn)</code></li>
<li><strong>jasmine.createSpyObj</strong>: <code>jasmine.createSpyObj(aName, [ methods ], [ props ])</code></li>
</ol>
</li>
<li>return values (use <code>.and</code> to start a &quot;strategy&quot;):<ul>
<li><code>.and.stub</code> is the default, which does nothing</li>
<li><strong>returnValue(s)</strong>: <code>.and.returnValue(42)</code>, <code>.and.returnValues(first)</code></li>
<li><strong>resolveTo</strong>, <strong>rejectWith</strong> (for promises): <code>.and.resolveTo(aPromise)</code></li>
<li><strong>throwError</strong></li>
<li><strong>callFake</strong> (create a fake function): <code>.and.callFake(x =&gt; x)</code></li>
<li><strong>callThrough</strong> (call the original function, by default it acts as a <em>stub</em> only)</li>
<li>only react to a fixed set of parameters:<br><code>.withArgs(1, 2, 3).and.</code></li>
</ul>
</li>
<li>expectations (spy matchers)<ul>
<li><strong>toHaveBeenCalled</strong>: <code>expect(mySpy).toHaveBeenCalled();</code></li>
<li><strong>toHaveBeenCalledBefore</strong>: <code>expect(mySpy).toHaveBeenCalledBefore(otherSpy);</code></li>
<li><strong>toHaveBeenCalledTimes</strong>: <code>expect(mySpy).toHaveBeenCalledTimes(3);</code></li>
<li><strong>toHaveBeenCalledWith</strong>: <code>expect(mySpy).toHaveBeenCalledWith(&#39;foo&#39;, &#39;bar&#39;, 2);</code></li>
<li>reset the call counter: <code>mySpy.calls.reset()</code></li>
</ul>
</li>
</ul>
</div>
    <script src="../../main.js?v=2.0.0"></script>
  </body>
</html>
